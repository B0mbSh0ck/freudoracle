# üìò –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Oracle Bot

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–±–µ–∑ Telegram)

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏ Oracle Bot –≤ —Å–≤–æ–∏—Ö Python —Å–∫—Ä–∏–ø—Ç–∞—Ö:

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–µ –≥–∞–¥–∞–Ω–∏–µ –ò-–¶–∑–∏–Ω

```python
from oracle.iching.iching import iching

# –ë—Ä–æ—Å–∞–µ–º –º–æ–Ω–µ—Ç—ã
primary_hex, secondary_hex = iching.cast_coins()

# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
print(iching.format_hexagram(primary_hex))

if secondary_hex:
    print("\n–†–ï–ó–£–õ–¨–¢–ò–†–£–Æ–©–ê–Ø –ì–ï–ö–°–ê–ì–†–ê–ú–ú–ê:")
    print(iching.format_hexagram(secondary_hex))
```

### –ü—Ä–∏–º–µ—Ä 2: –í—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –¢–∞—Ä–æ

```python
from oracle.tarot.tarot import tarot

# –ö–∞—Ä—Ç–∞ –¥–Ω—è
card = tarot.card_of_the_day()
print(tarot.deck.format_card(card))

# –¢—Ä–µ—Ö–∫–∞—Ä—Ç–æ–≤—ã–π —Ä–∞—Å–∫–ª–∞–¥
spread = tarot.three_card_spread("–ú–æ–π –≤–æ–ø—Ä–æ—Å?")
print("–ü—Ä–æ—à–ª–æ–µ:", spread['past'].name)
print("–ù–∞—Å—Ç–æ—è—â–µ–µ:", spread['present'].name)
print("–ë—É–¥—É—â–µ–µ:", spread['future'].name)
```

### –ü—Ä–∏–º–µ—Ä 3: –•–æ—Ä–∞—Ä–Ω–∞—è –∫–∞—Ä—Ç–∞

```python
from oracle.horary.horary import horary
from datetime import datetime

# –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–∞—Ä—Ç—É –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç
now = datetime.now()
chart = horary.calculate_chart(now)

print(horary.format_chart(chart))
```

### –ü—Ä–∏–º–µ—Ä 4: –ü–æ–ª–Ω–æ–µ –≥–∞–¥–∞–Ω–∏–µ —Å AI

```python
import asyncio
from oracle.interpreter import oracle_interpreter

async def ask_oracle(question):
    result = await oracle_interpreter.process_question(
        question=question,
        user_name="–ò—Å–∫–∞—Ç–µ–ª—å"
    )
    
    print("=" * 50)
    print("–û–¢–í–ï–¢ –û–†–ê–ö–£–õ–ê:")
    print("=" * 50)
    print(result['interpretation'])
    print("\n" + "=" * 50)
    print("–î–ï–¢–ê–õ–ò –ì–ê–î–ê–ù–ò–Ø:")
    print("=" * 50)
    print(result['iching']['formatted'])
    print("\n" + result['tarot']['formatted'])
    print("\n" + result['horary']['formatted'])

# –ó–∞–ø—É—Å–∫–∞–µ–º
asyncio.run(ask_oracle("–ß—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –æ –º–æ–µ–π –∫–∞—Ä—å–µ—Ä–µ?"))
```

### –ü—Ä–∏–º–µ—Ä 5: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ä–∏—Ç—É–∞–ª–∞

```python
import asyncio
from oracle.interpreter import oracle_interpreter
from oracle.ritual.ritual_generator import ritual_generator

async def get_ritual(question):
    # –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ä–∞–∫—É–ª–∞
    oracle_response = await oracle_interpreter.process_question(
        question=question,
        user_name="–ò—Å–∫–∞—Ç–µ–ª—å"
    )
    
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∏—Ç—É–∞–ª
    ritual = await ritual_generator.generate_ritual(
        question=question,
        oracle_response=oracle_response
    )
    
    print(ritual)

# –ó–∞–ø—É—Å–∫–∞–µ–º
asyncio.run(get_ritual("–ö–∞–∫ –º–Ω–µ –æ–±—Ä–µ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–∫–æ–π?"))
```

## –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –û—Ä–∞–∫—É–ª–∞

### –•–æ—Ä–æ—à–∏–µ –≤–æ–ø—Ä–æ—Å—ã ‚úÖ

1. **–û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã:**
   - "–ß—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –æ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏ —Å —Ä–∞–±–æ—Ç–æ–π?"
   - "–ö–∞–∫–∏–µ —ç–Ω–µ—Ä–≥–∏–∏ –æ–∫—Ä—É–∂–∞—é—Ç –º–æ–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å–µ–π—á–∞—Å?"
   - "–ß—Ç–æ —è —É–ø—É—Å–∫–∞—é –∏–∑ –≤–∏–¥—É –≤ —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?"

2. **–í–æ–ø—Ä–æ—Å—ã –æ –≤—ã–±–æ—Ä–µ:**
   - "–ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ —è –ø—Ä–∏–º—É –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–π —Ä–∞–±–æ—Ç–µ?"
   - "–ö–∞–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –º–æ–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø–µ—Ä–µ–µ—Ö–∞—Ç—å?"
   - "–ß—Ç–æ –º–Ω–µ –≤–∞–∂–Ω–æ —É—á–µ—Å—Ç—å –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –º–µ–∂–¥—É –ê –∏ –ë?"

3. **–í–æ–ø—Ä–æ—Å—ã –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏:**
   - "–ß—Ç–æ –º–µ—à–∞–µ—Ç –º–Ω–µ –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä–µ–¥?"
   - "–ö–∞–∫–æ–π —É—Ä–æ–∫ —è –¥–æ–ª–∂–µ–Ω –∏–∑–≤–ª–µ—á—å –∏–∑ —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?"
   - "–ö–∞–∫ –º–Ω–µ –ª—É—á—à–µ –ø–æ–¥–æ–π—Ç–∏ –∫ —Ä–µ—à–µ–Ω–∏—é —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã?"

### –ü–ª–æ—Ö–∏–µ –≤–æ–ø—Ä–æ—Å—ã ‚ùå

1. **–°–ª–∏—à–∫–æ–º –æ–±—â–∏–µ:**
   - "–ö–∞–∫ –¥–µ–ª–∞?" (—á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ?)
   - "–ß—Ç–æ –º–Ω–µ –¥–µ–ª–∞—Ç—å?" (–≤ –∫–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?)

2. **–í–æ–ø—Ä–æ—Å—ã –æ –¥—Ä—É–≥–∏—Ö –ª—é–¥—è—Ö:**
   - "–ß—Ç–æ –¥—É–º–∞–µ—Ç –æ–±–æ –º–Ω–µ –ò–≤–∞–Ω?" (–≥–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å–µ–±—è, –Ω–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö)
   - "–ò–∑–º–µ–Ω—è–µ—Ç –ª–∏ –º–Ω–µ –ø–∞—Ä—Ç–Ω–µ—Ä?" (–ª—É—á—à–µ: "–ß—Ç–æ —è –Ω–µ –≤–∏–∂—É –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö?")

3. **–í–æ–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—â–∏–µ —Ç–æ—á–Ω—ã—Ö –¥–∞—Ç:**
   - "–ö–æ–≥–¥–∞ –∏–º–µ–Ω–Ω–æ —è –≤—Å—Ç—Ä–µ—á—É –ª—é–±–æ–≤—å?" (–ª—É—á—à–µ: "–ß—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –ª—é–±–≤–∏?")

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram Bot

### –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

```
/start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
/ask - –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –û—Ä–∞–∫—É–ª—É
/ritual - –ü–æ–ª—É—á–∏—Ç—å –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–∏—Ç—É–∞–ª
/stats - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
/help - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å
```

### –¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```
   /start
   ```

2. **–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å:**
   ```
   /ask
   ```
   
   –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å —Ç–µ–∫—Å—Ç–æ–º:
   ```
   –ß—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –æ –º–æ–µ–π –∫–∞—Ä—å–µ—Ä–µ?
   ```

3. **–ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç** (–ø–æ–¥–æ–∂–¥–∏—Ç–µ ~1 –º–∏–Ω—É—Ç—É)

4. **–ó–∞–¥–∞–π—Ç–µ —É—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å:**
   ```
   –ê —á—Ç–æ –µ—Å–ª–∏ —è –æ—Ç–∫–∞–∂—É—Å—å –æ—Ç —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è?
   ```

5. **–ü–æ–ª—É—á–∏—Ç–µ —Ä–∏—Ç—É–∞–ª:**
   ```
   /ritual
   ```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É oracle –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
cp -r oracle/ /path/to/your/project/

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install pyswisseph openai anthropic
```

### –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```python
from flask import Flask, request, jsonify
from oracle.interpreter import oracle_interpreter
import asyncio

app = Flask(__name__)

@app.route('/api/oracle', methods=['POST'])
def oracle_endpoint():
    data = request.json
    question = data.get('question')
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
    loop = asyncio.new_event_loop()
    asyncio.set_event_loop(loop)
    result = loop.run_until_complete(
        oracle_interpreter.process_question(question, "API User")
    )
    loop.close()
    
    return jsonify({
        'interpretation': result['interpretation'],
        'iching_hexagram': result['iching']['primary'].number,
        'tarot_card': result['tarot']['card'].name
    })

if __name__ == '__main__':
    app.run()
```

### –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ Discord –±–æ—Ç–∞

```python
import discord
from discord.ext import commands
from oracle.interpreter import oracle_interpreter

bot = commands.Bot(command_prefix='!')

@bot.command(name='oracle')
async def oracle_command(ctx, *, question):
    """–°–ø—Ä–æ—Å–∏—Ç—å –û—Ä–∞–∫—É–ª–∞"""
    await ctx.send("üîÆ –ö–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É—é—Å—å —Å –û—Ä–∞–∫—É–ª–æ–º...")
    
    result = await oracle_interpreter.process_question(
        question=question,
        user_name=ctx.author.name
    )
    
    await ctx.send(result['interpretation'])

bot.run('YOUR_DISCORD_TOKEN')
```

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –û—Ä–∞–∫—É–ª–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `oracle/interpreter.py`, –Ω–∞–π–¥–∏—Ç–µ `system_prompt`:

```python
system_prompt = f"""–¢—ã - –º—É–¥—Ä—ã–π –û—Ä–∞–∫—É–ª...

–°–¢–ò–õ–¨ –û–ë–©–ï–ù–ò–Ø:
- [–í–ê–®–ò –ù–ê–°–¢–†–û–ô–ö–ò]
"""
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç –¢–∞—Ä–æ

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `oracle/tarot/tarot.py`, –¥–æ–±–∞–≤—å—Ç–µ –∫–∞—Ä—Ç—ã –≤ –º–µ—Ç–æ–¥ `_create_deck()`.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –≥–µ–∫—Å–∞–≥—Ä–∞–º–º

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `data/iching_hexagrams.json`.

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Module not found"
–†–µ—à–µ–Ω–∏–µ: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞: "API key not found"
–†–µ—à–µ–Ω–∏–µ: –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏

### –ü—Ä–æ–±–ª–µ–º–∞: "Swiss Ephemeris error"
–†–µ—à–µ–Ω–∏–µ: 
```bash
pip install --upgrade pyswisseph
```

## –õ–∏—Ü–µ–Ω–∑–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–≠—Ç–æ—Ç –∫–æ–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –æ–±—É—á–µ–Ω–∏—è.
–î–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–≤—Ç–æ—Ä–æ–º.
